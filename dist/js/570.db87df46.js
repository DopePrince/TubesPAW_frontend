"use strict";(self["webpackChunktubespaw_frontend"]=self["webpackChunktubespaw_frontend"]||[]).push([[570],{3570:function(a,t,e){e.r(t),e.d(t,{default:function(){return u}});var o=function(){var a=this,t=a._self._c;return t("v-main",{staticClass:"list"},[t("v-card",[t("v-list-item",[t("v-list-item-avatar",{attrs:{color:"white"}},[t("img",{attrs:{src:e(2327),alt:"Not found"}})]),t("v-list-item-content",[t("v-list-item-title",{staticClass:"headline"},[a._v("Paket Wisata")]),t("v-list-item-subtitle",[a._v("---Pilih Paket Wisata mu---")])],1)],1),t("v-card-title",[t("v-text-field",{staticStyle:{"margin-top":"30px"},attrs:{"append-icon":"mdi-magnify",label:"Search",outlined:"",hide:"",details:""},model:{value:a.search,callback:function(t){a.search=t},expression:"search"}}),t("v-spacer"),t("v-btn",{attrs:{color:"success",dark:""},on:{click:a.tambah}},[a._v("Tambah")])],1)],1),t("v-card",[t("v-data-table",{attrs:{headers:a.headers,items:a.todos,search:a.search},scopedSlots:a._u([{key:"item.action",fn:function({item:e}){return[t("v-btn",{staticClass:"mr-2 blue-grey lighten-3",attrs:{small:""},on:{click:function(t){return a.editItem(e)}}},[a._v("edit")]),t("v-btn",{staticClass:"mr-2 blue-grey lighten-3",attrs:{small:""},on:{click:function(t){return a.deleteItem(e)}}},[a._v("delete")])]}},{key:"item.status_pembayaran",fn:function({item:t}){return[a._v(" "+a._s(1==t.status_pembayaran?"Lunas":"Belum Bayar")+" ")]}},{key:"item.supir",fn:function({item:t}){return[a._v(" "+a._s(1==t.supir?"Pakai":"Tidak")+" ")]}},{key:"item.kendaraan",fn:function({item:t}){return[a._v(" "+a._s(1==t.kendaraan?"Mobil":"Bus")+" ")]}},{key:"item.id_wisata",fn:function({item:t}){return[a._v(" "+a._s(a.getNamaWisata(t.id_wisata))+" ")]}}],null,!0)})],1),t("v-dialog",{attrs:{persistent:"","max-width":"600px"},model:{value:a.dialog,callback:function(t){a.dialog=t},expression:"dialog"}},[t("v-card",[t("v-card-title",[t("span",{staticClass:"headline"},[a._v("Pesan Paket Wisata")])]),t("v-card-text",[t("v-container",[0==a.formTodo.id_update?t("v-select",{attrs:{items:a.bookings,"item-text":"id","item-value":"id",label:"No Booking","persistent-hint":"","return-object":"","single-line":""},model:{value:a.formTodo.booking,callback:function(t){a.$set(a.formTodo,"booking",t)},expression:"formTodo.booking"}}):a._e(),t("v-select",{attrs:{items:a.paket_wisatas,"item-text":"nama_wisata","item-value":"id",label:"Nama Wisata","persistent-hint":"","return-object":"","single-line":""},model:{value:a.formTodo.wisata,callback:function(t){a.$set(a.formTodo,"wisata",t)},expression:"formTodo.wisata"}}),t("v-select",{attrs:{items:["Lunas","Belum Lunas"],label:"Status Pembayaran",required:""},model:{value:a.formTodo.status_pembayaran,callback:function(t){a.$set(a.formTodo,"status_pembayaran",t)},expression:"formTodo.status_pembayaran"}}),t("v-select",{attrs:{items:["Pakai","Tidak"],label:"Supir",required:""},model:{value:a.formTodo.supir,callback:function(t){a.$set(a.formTodo,"supir",t)},expression:"formTodo.supir"}}),t("v-select",{attrs:{items:["Mobil","Bus"],label:"Kendaraan",required:""},model:{value:a.formTodo.kendaraan,callback:function(t){a.$set(a.formTodo,"kendaraan",t)},expression:"formTodo.kendaraan"}})],1)],1),t("v-card-actions",[t("v-spacer"),t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:a.cancel}},[a._v("Cancel")]),0==a.formTodo.id_update?t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:a.addOrwis}},[a._v("Save")]):t("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:a.updateOrwis}},[a._v("Save")])],1)],1)],1)],1)},s=[],i=(e(7658),e(4311)),r={name:"ListItem",data(){return{formTodo:{booking:void 0,wisata:void 0,status_pembayaran:void 0,supir:void 0,kendaraan:void 0,id_update:0},bookings:[],paket_wisatas:[],search:null,dialog:!1,headers:[{text:"No Booking",align:"start",sortable:!0,value:"id_booking"},{text:"Nama Wisata ",value:"id_wisata"},{text:"Status Pembayaran ",value:"status_pembayaran"},{text:"Supir",value:"supir"},{text:"Kendaraan",value:"kendaraan"},{text:"Action",value:"action"}],todos:[]}},mounted(){this.showOrwis(),this.showPaketWisata(),this.showBookings()},methods:{save(){this.todos.push(this.formTodo),this.resetForm(),this.dialog=!1},cancel(){this.resetForm(),this.dialog=!1},resetForm(){this.formTodo={booking:void 0,wisata:void 0,status_pembayaran:void 0,supir:void 0,kendaraan:void 0,id_update:0}},tambah(){this.dialog=!0},showOrwis(){i.Z.get("https://frederikus.com/UAS_Hotel_B_Kel-A/public/api/reservliburan",{}).then((a=>{this.todos=a.data.data,this.todos[0].id_booking})).catch((a=>{console.log(a)}))},showPaketWisata(){i.Z.get("https://frederikus.com/UAS_Hotel_B_Kel-A/public/api/paketwisata",{}).then((a=>{this.paket_wisatas=a.data.data,console.log(this.paket_wisatas)})).catch((a=>{console.log(a)}))},showBookings(){i.Z.get("https://frederikus.com/UAS_Hotel_B_Kel-A/public/api/bookings",{}).then((a=>{this.bookings=a.data.data,console.log(this.bookings)})).catch((a=>{console.log(a)}))},addOrwis(){i.Z.post("https://frederikus.com/UAS_Hotel_B_Kel-A/public/api/reservliburan",{id_booking:this.formTodo.booking.id,id_wisata:this.formTodo.wisata.id,status_pembayaran:"Lunas"==this.formTodo.status_pembayaran?1:0,supir:"Tidak"==this.formTodo.supir?1:0,kendaraan:"Mobil"==this.formTodo.kendaraan?1:0},{}).then((a=>{console.log(a),this.dialog=!1,this.showOrwis()})).catch((a=>{console.log(a.response.data)}))},editItem(a){this.formTodo.id_update=a.id,this.formTodo.booking=a.id_booking,this.formTodo.status_pembayaran=1==a.status_pembayaran?"Lunas":"Belum Lunas",this.formTodo.supir=1==a.supir?"Pakai":"Tidak",this.formTodo.kendaraan=1==a.kendaraan?"Mobil":"Bus",this.formTodo.wisata=this.getNamaWisataObj(a.id_wisata),this.dialog=!0},updateOrwis(){i.Z.put("https://frederikus.com/UAS_Hotel_B_Kel-A/public/api/reservliburan/"+this.formTodo.id_update,{id_booking:this.formTodo.booking,id_wisata:this.formTodo.wisata.id,status_pembayaran:"Lunas"==this.formTodo.status_pembayaran?1:0,supir:"Pakai"==this.formTodo.supir?1:0,kendaraan:"Mobil"==this.formTodo.kendaraan?1:0},{}).then((a=>{console.log(a),this.dialog=!1,this.resetForm(),this.showOrwis()})).catch((a=>{console.log(a.response.data)}))},deleteItem(a){i.Z["delete"]("https://frederikus.com/UAS_Hotel_B_Kel-A/public/api/reservliburan/"+a.id,{}).then((a=>{console.log(a),this.showOrwis()})).catch((a=>{console.log(a.response.data)}))},getNamaWisata(a){let t=this.paket_wisatas.find((t=>t.id==a));return t.nama_wisata},getNamaWisataObj(a){let t=this.paket_wisatas.find((t=>t.id==a));return t}}},n=r,l=e(1001),d=(0,l.Z)(n,o,s,!1,null,null,null),u=d.exports},2327:function(a,t,e){a.exports=e.p+"img/logo_rmvd.fe5e43da.png"}}]);
//# sourceMappingURL=570.db87df46.js.map