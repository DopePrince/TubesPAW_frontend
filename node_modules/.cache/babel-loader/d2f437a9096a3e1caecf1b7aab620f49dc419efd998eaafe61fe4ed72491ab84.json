{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: \"ListItem\",\n  data() {\n    return {\n      formTodo: {\n        kamar: undefined,\n        lama_menginap: undefined,\n        karyawan: undefined,\n        id_update: 0\n      },\n      kamars: [],\n      karyawans: [],\n      search: null,\n      dialog: false,\n      headers: [{\n        text: \"Tipe Kamar\",\n        align: \"start\",\n        sortable: true,\n        value: \"id_kamar\"\n      }, {\n        text: \"Lama Inap\",\n        value: \"lama_menginap\"\n      }, {\n        text: \"Nama Karyawn\",\n        value: \"id_karyawan\"\n      }, {\n        text: \"Action\",\n        value: \"action\"\n      }],\n      todos: []\n    };\n  },\n  mounted() {\n    this.showBookings();\n    this.showKamar();\n    this.showKaryawans();\n  },\n  methods: {\n    save() {\n      this.todos.push(this.formTodo);\n      this.resetForm();\n      this.dialog = false;\n    },\n    cancel() {\n      this.resetForm();\n      this.dialog = false;\n    },\n    resetForm() {\n      this.formTodo = {\n        kamar: undefined,\n        lama_menginap: undefined,\n        karyawan: undefined,\n        id_update: 0\n      };\n    },\n    tambah() {\n      this.dialog = true;\n    },\n    showKamar() {\n      axios.get('http://localhost:8000/api/kamars', {}).then(response => {\n        this.kamars = response.data.data;\n        console.log(this.kamars);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    showBookings() {\n      axios.get('http://localhost:8000/api/bookings', {}).then(response => {\n        this.todos = response.data.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    showKaryawans() {\n      axios.get('http://localhost:8000/api/karyawans', {}).then(response => {\n        this.karyawans = response.data.data;\n        console.log(this.karyawans);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    addBookings() {\n      axios.post('http://localhost:8000/api/bookings', {\n        id_user: 1,\n        // ini nanti dari yang local storage yaww\n        id_kamar: this.formTodo.kamar.id,\n        lama_menginap: this.formTodo.lama_menginap,\n        status_pembayaran: 1,\n        stat_cekInOrOut: 1,\n        id_karyawan: this.formTodo.karyawan.id\n      }, {\n        //ini buayt askese token\n        // headers: {\n        // 'Authorization': `Bearer ${access_token}`\n        // }\n      }).then(response => {\n        console.log(response);\n        this.dialog = false;\n        this.showBookings();\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    },\n    editItem(item) {\n      this.formTodo.id_update = item.id;\n      this.formTodo.kamar = this.getNamaKamarObj(item.id_kamar);\n      this.formTodo.lama_menginap = item.lama_menginap;\n      this.formTodo.karyawan = this.getNamaKaryawanObj(item.id_karyawan);\n      this.dialog = true;\n    },\n    updateBookings() {\n      axios.put('http://localhost:8000/api/bookings/' + this.formTodo.id_update, {\n        id_user: 1,\n        // ini nanti dari yang local storage yaww\n        id_kamar: this.formTodo.kamar.id,\n        lama_menginap: this.formTodo.lama_menginap,\n        status_pembayaran: 1,\n        stat_cekInOrOut: 1,\n        id_karyawan: this.formTodo.karyawan.id\n      }, {\n        //ini buayt askese token\n        // headers: {\n        // 'Authorization': `Bearer ${access_token}`\n        // }\n      }).then(response => {\n        console.log(response);\n        this.dialog = false;\n        this.resetForm();\n        this.showBookings();\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    },\n    deleteItem(item) {\n      axios.delete('http://localhost:8000/api/bookings/' + item.id, {\n        //ini buayt askese token\n        // headers: {\n        // 'Authorization': `Bearer ${access_token}`\n        // }\n      }).then(response => {\n        console.log(response);\n        this.showBookings();\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    },\n    getNameTipeKamar(id_kamar) {\n      let kamar = this.kamars.find(kamar => kamar.id == id_kamar);\n      return kamar.tipe_kamar;\n    },\n    getNameKaryawan(id_karyawan) {\n      let karyawan = this.karyawans.find(karyawan => karyawan.id == id_karyawan);\n      return karyawan.nama;\n    },\n    getNamaKamarObj(id_kamar) {\n      let kamar = this.kamars.find(kamar => kamar.id == id_kamar);\n      return kamar;\n    },\n    getNamaKaryawanObj(id_karyawan) {\n      let karyawan = this.karyawans.find(karyawan => karyawan.id == id_karyawan);\n      return karyawan;\n    }\n  }\n};","map":{"version":3,"mappings":";AAwGA;AACA;EACAA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC,UACA;QACAC;QACAC;QACAC;QACAC;MAEA,GACA;QAAAH;QAAAG;MAAA,GACA;QAAAH;QAAAG;MAAA,GACA;QAAAH;QAAAG;MAAA,EACA;MACAC;IAIA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACAlB;QACAC;QACAC;QACAC;MACA;IACA;IACAgB;MACA;IACA;IACAC;MACAC,+CAEA,GACAC;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;IACAE;MACAJ,iDAEA,GACAC;QACA;MAEA,GACAE;QACAD;MACA;IACA;IACAG;MACAL,kDAEA,GACAC;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;IACAI;MACAN;QACAO;QAAA;QACAC;QACA5B;QACA6B;QACAC;QACAC;MACA;QACA;QACA;QACA;QACA;MAAA,CAEA,EACAV;QACAC;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IACAU;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACAb;QACAO;QAAA;QACAC;QACA5B;QACA6B;QACAC;QACAC;MACA;QACA;QACA;QACA;QACA;MAAA,CAEA,EACAV;QACAC;QACA;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IACAY;MACAd;QACA;QACA;QACA;QACA;MAAA,CAEA,EACAC;QACAC;QACA;MACA,GACAC;QACAD;MACA;IACA;IACAa;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA","names":["name","data","formTodo","kamar","lama_menginap","karyawan","id_update","kamars","karyawans","search","dialog","headers","text","align","sortable","value","todos","mounted","methods","save","cancel","resetForm","tambah","showKamar","axios","then","console","catch","showBookings","showKaryawans","addBookings","id_user","id_kamar","status_pembayaran","stat_cekInOrOut","id_karyawan","editItem","updateBookings","deleteItem","getNameTipeKamar","getNameKaryawan","getNamaKamarObj","getNamaKaryawanObj"],"sourceRoot":"src/components/ToDoList","sources":["ReservasiKamar.vue"],"sourcesContent":["<template>\r\n    <v-main class=\"list\">\r\n        <v-card>\r\n            <v-list-item>\r\n                <v-list-item-avatar color=\"white\">   \r\n                    <img\r\n                        src=\"../../../src/assets/logo_rmvd.png\"\r\n                        alt=\"Not found\"\r\n                    >\r\n                </v-list-item-avatar>\r\n                <v-list-item-content>\r\n                    <v-list-item-title class=\"headline\">Bookings</v-list-item-title>\r\n                <v-list-item-subtitle >---Silahkan Pesan Kamar---</v-list-item-subtitle>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n\r\n            <v-card-title>\r\n                <v-text-field\r\n                  v-model = \"search\"\r\n                  append-icon=\"mdi-magnify\"\r\n                  label=\"Search\"\r\n                  outlined\r\n                  hide\r\n                  details\r\n                  style=\"margin-top: 30px\" >\r\n                </v-text-field>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"success\" dark @click=\"tambah\">Tambah</v-btn>\r\n            </v-card-title>\r\n        </v-card>\r\n\r\n        <v-card>\r\n            <v-data-table :headers=\"headers\" :items=\"todos\" :search=\"search\">\r\n                <template v-slot:[`item.action`]=\"{ item }\">\r\n                    <v-btn small class=\"mr-2 blue-grey lighten-3\" @click=\"editItem(item)\">edit</v-btn>\r\n                    <v-btn small class=\"mr-2 blue-grey lighten-3\" @click=\"deleteItem(item)\">delete</v-btn>\r\n                </template>\r\n\r\n              \r\n                <template v-slot:[`item.id_kamar`]=\"{ item }\">\r\n                  \r\n                        {{ getNameTipeKamar(item.id_kamar) }}\r\n               \r\n                </template>\r\n\r\n                <template v-slot:[`item.id_karyawan`]=\"{ item }\">\r\n                  \r\n                        {{ getNameKaryawan(item.id_karyawan) }}\r\n\r\n                </template>\r\n\r\n\r\n            </v-data-table>\r\n        </v-card>\r\n\r\n        <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n            <v-card>\r\n                <v-card-title>\r\n                    <span class=\"headline\">Pesan Kamar</span>\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    <v-container>\r\n                        <v-select\r\n                        v-model=\"formTodo.kamar\"\r\n                        :items=\"kamars\"\r\n                        item-text=\"tipe_kamar\"\r\n                        item-value=\"id\"\r\n                        label=\"Tipe Kamar\"\r\n                        persistent-hint\r\n                        return-object\r\n                        single-line\r\n                        ></v-select>\r\n\r\n                        <v-text-field\r\n                            v-model=\"formTodo.lama_menginap\"\r\n                            label=\"Lama Inap\"\r\n                            required>\r\n                        </v-text-field>\r\n\r\n                        <v-select\r\n                        v-model=\"formTodo.karyawan\"\r\n                        :items=\"karyawans\"\r\n                        item-text=\"nama\"\r\n                        item-value=\"id\"\r\n                        label=\"Nama Karyawan\"\r\n                        persistent-hint\r\n                        return-object\r\n                        single-line\r\n                        ></v-select>\r\n\r\n                    </v-container>\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"cancel\">Cancel</v-btn>\r\n                    <v-btn v-if=\"formTodo.id_update==0\" color=\"blue darken-1\" text @click=\"addBookings\">Save</v-btn>\r\n                    <v-btn v-else color=\"blue darken-1\" text @click=\"updateBookings\">Save</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n    </v-main>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\nexport default {\r\n    name: \"ListItem\",\r\n    data(){\r\n        return {\r\n            formTodo : {\r\n                kamar: undefined,\r\n                lama_menginap : undefined,\r\n                karyawan: undefined,\r\n                id_update: 0\r\n            },\r\n            kamars : [],\r\n            karyawans : [],\r\n            search: null,\r\n            dialog: false,\r\n            headers: [\r\n                {\r\n                    text: \"Tipe Kamar\",\r\n                    align: \"start\",\r\n                    sortable: true,\r\n                    value: \"id_kamar\",\r\n\r\n                },\r\n                { text: \"Lama Inap\", value: \"lama_menginap\" },\r\n                { text: \"Nama Karyawn\", value: \"id_karyawan\" },\r\n                { text: \"Action\", value: \"action\" },\r\n            ],\r\n            todos:[\r\n\r\n            ],\r\n      \r\n            };\r\n        },\r\n        mounted(){\r\n            this.showBookings();\r\n            this.showKamar();\r\n            this.showKaryawans();\r\n        },\r\n        methods: {\r\n            save(){\r\n                this.todos.push(this.formTodo);\r\n                this.resetForm();\r\n                this.dialog = false;\r\n            },\r\n            cancel(){\r\n                this.resetForm();\r\n                this.dialog = false;\r\n            },\r\n            resetForm(){\r\n                this.formTodo = {\r\n                    kamar: undefined,\r\n                    lama_menginap : undefined,\r\n                    karyawan: undefined,\r\n                    id_update: 0\r\n                };\r\n            },\r\n            tambah(){\r\n                this.dialog=true;\r\n            },\r\n            showKamar(){\r\n                axios.get('http://localhost:8000/api/kamars', {\r\n\r\n                })\r\n                    .then((response) => {\r\n                    this.kamars = response.data.data\r\n                    console.log(this.kamars)\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error)\r\n                    })\r\n             },\r\n            showBookings(){\r\n                axios.get('http://localhost:8000/api/bookings', {\r\n\r\n                })\r\n                    .then((response) => {\r\n                    this.todos = response.data.data\r\n\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error)\r\n                    })\r\n             },\r\n             showKaryawans(){\r\n                axios.get('http://localhost:8000/api/karyawans', {\r\n\r\n                })\r\n                    .then((response) => {\r\n                    this.karyawans = response.data.data\r\n                    console.log(this.karyawans)\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error)\r\n                    })\r\n             },\r\n             addBookings(){\r\n                axios.post('http://localhost:8000/api/bookings', {\r\n                    id_user: 1, // ini nanti dari yang local storage yaww\r\n                    id_kamar: this.formTodo.kamar.id,\r\n                    lama_menginap: this.formTodo.lama_menginap,\r\n                    status_pembayaran: 1,\r\n                    stat_cekInOrOut: 1,  \r\n                    id_karyawan: this.formTodo.karyawan.id,\r\n                }, {\r\n                    //ini buayt askese token\r\n                    // headers: {\r\n                    // 'Authorization': `Bearer ${access_token}`\r\n                    // }\r\n\r\n                })\r\n                    .then((response) => {\r\n                    console.log(response)\r\n                    this.dialog = false\r\n                    this.showBookings();\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error.response.data)\r\n                    })\r\n             },\r\n             editItem(item){\r\n                this.formTodo.id_update = item.id\r\n                this.formTodo.kamar = this.getNamaKamarObj(item.id_kamar)\r\n                this.formTodo.lama_menginap = item.lama_menginap\r\n                this.formTodo.karyawan = this.getNamaKaryawanObj(item.id_karyawan)\r\n                this.dialog=true;\r\n             },\r\n            updateBookings(){\r\n                axios.put('http://localhost:8000/api/bookings/' + this.formTodo.id_update, {\r\n                    id_user: 1, // ini nanti dari yang local storage yaww\r\n                    id_kamar: this.formTodo.kamar.id,\r\n                    lama_menginap: this.formTodo.lama_menginap,\r\n                    status_pembayaran: 1,\r\n                    stat_cekInOrOut: 1,  \r\n                    id_karyawan: this.formTodo.karyawan.id,\r\n                }, {\r\n                    //ini buayt askese token\r\n                    // headers: {\r\n                    // 'Authorization': `Bearer ${access_token}`\r\n                    // }\r\n\r\n                })\r\n                    .then((response) => {\r\n                    console.log(response)\r\n                    this.dialog = false\r\n                    this.resetForm()\r\n                    this.showBookings();\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error.response.data)\r\n                    })\r\n            },\r\n            deleteItem(item){\r\n                axios.delete('http://localhost:8000/api/bookings/' + item.id, {\r\n                    //ini buayt askese token\r\n                    // headers: {\r\n                    // 'Authorization': `Bearer ${access_token}`\r\n                    // }\r\n\r\n                })\r\n                    .then((response) => {\r\n                    console.log(response)\r\n                    this.showBookings();\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error.response.data)\r\n                    })\r\n            },\r\n            getNameTipeKamar(id_kamar){\r\n                let kamar = this.kamars.find(kamar => kamar.id == id_kamar)\r\n                return kamar.tipe_kamar\r\n            },\r\n            getNameKaryawan(id_karyawan){\r\n                let karyawan = this.karyawans.find(karyawan => karyawan.id == id_karyawan)\r\n                return karyawan.nama\r\n            },\r\n            getNamaKamarObj(id_kamar){\r\n                let kamar = this.kamars.find(kamar => kamar.id == id_kamar)\r\n                return kamar\r\n            },\r\n            getNamaKaryawanObj(id_karyawan){\r\n                let karyawan = this.karyawans.find(karyawan => karyawan.id == id_karyawan)\r\n                return karyawan\r\n            },\r\n        },\r\n    };\r\n</script>\r\n<style>\r\n    .text{\r\n        font-family: \"Franklin Gothic Medium\", \"Arial Narrow\", Arial, sans-serif;\r\n        font-size: 40px;\r\n        font-style: italic;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}