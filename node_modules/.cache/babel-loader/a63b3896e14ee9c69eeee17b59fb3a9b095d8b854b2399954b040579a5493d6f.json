{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: \"ListItem\",\n  data() {\n    return {\n      formTodo: {\n        id_booking: null,\n        id_menu: null,\n        status_pembayaran: null,\n        jumlah: 0,\n        total: 0,\n        id_update: 0\n      },\n      harga: null,\n      stat: null,\n      idMenu: null,\n      idBook: null,\n      totalinOut: null,\n      menus: [],\n      hargamenu: null,\n      bookings: [],\n      search: null,\n      dialog: false,\n      headers: [{\n        text: \"Nomor Booking\",\n        align: \"start\",\n        sortable: true,\n        value: \"id_booking\"\n      }, {\n        text: \"Nama Menu\",\n        value: \"id_menu\"\n      }, {\n        text: \"Status Pembayaran\",\n        value: \"status_pembayaran\"\n      }, {\n        text: \"Jumlah\",\n        value: \"jumlah\"\n      }, {\n        text: \"Total\",\n        value: \"total\"\n      }, {\n        text: \"Aksi\",\n        value: \"action\"\n      }],\n      todos: []\n    };\n  },\n  mounted() {\n    this.showOrdersFoods();\n    this.showBooking();\n    this.showMenus();\n  },\n  methods: {\n    save() {\n      this.todos.push(this.formTodo);\n      this.resetForm();\n      this.dialog = false;\n    },\n    cancel() {\n      this.resetForm();\n      this.dialog = false;\n    },\n    resetForm() {\n      this.formTodo = {\n        id_booking: null,\n        id_menu: null,\n        status_pembayaran: null,\n        jumlah: 0,\n        total: 0\n      };\n    },\n    tambah() {\n      this.dialog = true;\n    },\n    showBooking() {\n      axios.get('http://localhost:8000/api/bookings', {}).then(response => {\n        this.bookings = response.data.data;\n        console.log(this.bookings);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    formatCurrency(value) {\n      return value.toLocaleString('id-ID', {\n        style: 'currency',\n        currency: 'IDR'\n      });\n    },\n    showOrdersFoods() {\n      axios.get('http://localhost:8000/api/orderfobs', {}).then(response => {\n        this.todos = response.data.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    showMenus() {\n      axios.get('http://localhost:8000/api/fobs', {}).then(response => {\n        this.menus = response.data.data;\n        console.log(this.menus);\n      }).catch(error => {\n        console.log(error);\n      });\n    },\n    addorderfobs() {\n      this.hargamenu = this.formTodo.id_menu.harga * this.formTodo.jumlah;\n      axios.post('http://localhost:8000/api/orderfobs', {\n        id_booking: this.idBook,\n        id_menu: this.idMenu,\n        status_pembayaran: this.stat,\n        jumlah: this.formTodo.jumlah,\n        total: this.hargamenu\n      }, {\n        //ini buayt askese token\n        // headers: {\n        // 'Authorization': `Bearer ${access_token}`\n        // }\n      }).then(response => {\n        console.log(response);\n        this.dialog = false;\n        this.resetForm();\n        this.showOrdersFoods();\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    },\n    editItem(item) {\n      this.formTodo.id_update = item.id;\n      this.formTodo.id_booking = item.id_booking;\n      this.formTodo.status_pembayaran = item.status_pembayaran == 1 ? 'Lunas' : 'Belum Bayar';\n      this.formTodo.id_menu = item.id_menu;\n      this.formTodo.jumlah = item.jumlah;\n      this.formTodo.total = item.total;\n      this.dialog = true;\n    },\n    updateBookings() {\n      axios.put('http://localhost:8000/api/orderfobs/' + this.formTodo.id_update, {\n        id_booking: this.formTodo.id_booking,\n        id_menu: this.formTodo.id_menu.id,\n        status_pembayaran: this.formTodo.status_pembayaran == \"Lunas\" ? 1 : 0,\n        jumlah: this.formTodo.jumlah,\n        total: this.formTodo.total\n      }, {\n        //ini buayt askese token\n        // headers: {\n        // 'Authorization': `Bearer ${access_token}`\n        // }\n      }).then(response => {\n        console.log(response);\n        this.dialog = false;\n        this.resetForm();\n        this.showOrdersFoods();\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    },\n    deleteItem(item) {\n      axios.delete('http://localhost:8000/api/orderfobs/' + item.id, {\n        //ini buayt askese token\n        // headers: {\n        // 'Authorization': `Bearer ${access_token}`\n        // }\n      }).then(response => {\n        console.log(response);\n        this.showOrdersFoods();\n      }).catch(error => {\n        console.log(error.response.data);\n      });\n    }\n  }\n};","map":{"version":3,"mappings":";AAiFA;AAEA;EACAA;EACAC;IACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,UACA;QACAC;QACAC;QACAC;QACAC;MACA,GACA;QAAAH;QAAAG;MAAA,GACA;QAAAH;QAAAG;MAAA,GACA;QAAAH;QAAAG;MAAA,GACA;QAAAH;QAAAG;MAAA,GACA;QAAAH;QAAAG;MAAA,EACA;MACAC;IAEA;EACA;EACAC;IACA;IACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA1B;QACAC;QACAC;QACAC;QACAC;MACA;IACA;IACAuB;MACA;IACA;IACAC;MACAC,iDAEA,GACAC;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;IACAE;MACA;QAAAC;QAAAC;MAAA;IACA;IACAC;MACAP,kDAEA,GACAC;QACA;MAEA,GACAE;QACAD;MACA;IACA;IACAM;MACAR,6CAEA,GACAC;QACA;QACAC;MACA,GACAC;QACAD;MACA;IACA;IACAO;MAEA;MAGAT;QACA7B;QACAC;QACAC;QACAC;QACAC;MACA;QACA;QACA;QACA;QACA;MAAA,CAEA,EACA0B;QACAC;QACA;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IACAQ;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;IACAC;MACAX;QACA7B;QACAC;QACAC;QACAC;QACAC;MACA;QACA;QACA;QACA;QACA;MAAA,CAEA,EACA0B;QACAC;QACA;QACA;QACA;MACA,GACAC;QACAD;MACA;IACA;IACAU;MACAZ;QACA;QACA;QACA;QACA;MAAA,CAEA,EACAC;QACAC;QACA;MACA,GACAC;QACAD;MACA;IACA;EACA;AACA","names":["name","data","formTodo","id_booking","id_menu","status_pembayaran","jumlah","total","id_update","harga","stat","idMenu","idBook","totalinOut","menus","hargamenu","bookings","search","dialog","headers","text","align","sortable","value","todos","mounted","methods","save","cancel","resetForm","tambah","showBooking","axios","then","console","catch","formatCurrency","style","currency","showOrdersFoods","showMenus","addorderfobs","editItem","updateBookings","deleteItem"],"sourceRoot":"src/components/ToDoList","sources":["FoodService.vue"],"sourcesContent":["<template>\r\n    <v-main class=\"list\">\r\n        <v-card>\r\n            <v-list-item>\r\n                <v-list-item-avatar color=\"white\">   \r\n                    <img src=\"../../../src/assets/logo_rmvd.png\" alt=\"Not found\">\r\n                </v-list-item-avatar>\r\n                <v-list-item-content>\r\n                    <v-list-item-title class=\"headline\">Food Service</v-list-item-title>\r\n                <v-list-item-subtitle >--- Order Food You Like ---</v-list-item-subtitle>\r\n                </v-list-item-content>\r\n            </v-list-item>\r\n\r\n            <v-card-title>\r\n                <v-text-field v-model = \"search\" append-icon=\"mdi-magnify\" label=\"Search\" outlined hide details style=\"margin-top: 30px\" ></v-text-field>\r\n                <v-spacer></v-spacer>\r\n                <v-btn color=\"success\" dark @click=\"tambah\">Tambah</v-btn>\r\n            </v-card-title>\r\n        </v-card>\r\n\r\n        <v-card>\r\n            <v-data-table :headers=\"headers\" :items=\"todos\" :search=\"search\">\r\n                <template v-slot:[`item.id_menu`]=\"{ item }\">\r\n                    <div v-for=\"it in menus\" :key=\"it.id\">\r\n                        <div v-if=\"item.id_menu == it.id\">{{ it.nama_menu }}</div>\r\n                    </div>\r\n                </template>\r\n                <template v-slot:[`item.status_pembayaran`]=\"{ item }\">\r\n                    <div v-if=\"item.status_pembayaran == 1\">Lunas</div>\r\n                    <div v-else-if=\"item.status_pembayaran == 0\">Belum Bayar</div>\r\n                </template>\r\n                <template v-slot:[`item.total`]=\"{ item }\">\r\n                    {{ formatCurrency(item.total) }}\r\n                </template>\r\n                <template v-slot:[`item.action`]=\"{ item }\">\r\n                    <v-btn small class=\"mr-2 blue-grey lighten-3\" @click=\"editItem(item)\">edit</v-btn>\r\n                    <v-btn small class=\"mr-2 blue-grey lighten-3\" @click=\"deleteItem(item)\">delete</v-btn>\r\n                </template>\r\n            </v-data-table>\r\n        </v-card>\r\n\r\n        <v-dialog v-model=\"dialog\" persistent max-width=\"600px\">\r\n            <v-card>\r\n                <v-card-title>\r\n                    <span class=\"headline\">Order Makanan</span>\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    <v-container>\r\n                        <v-select v-model=\"formTodo.id_booking\" :items=\"bookings\" item-text=\"id\" item-value=\"id\" label=\"Nomor Booking\" persistent-hint return-object single-line></v-select>\r\n                        <v-select v-model=\"formTodo.id_menu\" :items=\"menus\" item-text=\"nama_menu\" item-value=\"id\" label=\"Select Food\" persistent-hint return-object single-line></v-select>\r\n                        <v-select\r\n                            v-model=\"formTodo.status_pembayaran\"\r\n                            :items=\"['Lunas', 'Belum Bayar' ]\"\r\n                            label = \"Status Pembayaran\"\r\n                            required>\r\n                        </v-select>\r\n                        <v-text-field v-model=\"formTodo.jumlah\" label=\"Masukan Jumlah Order\" type=\"number\" required></v-text-field>\r\n                        <div v-if=\"formTodo.id_booking\">\r\n                            {{ idBook = formTodo.id_booking.id }}\r\n                        </div>\r\n                        <div v-if=\"formTodo.id_menu\">\r\n                            {{ idMenu = formTodo.id_menu.id }}\r\n                        </div>\r\n                        <div v-if=\"formTodo.status_pembayaran\">\r\n                            {{ stat = formTodo.status_pembayaran.idp }}\r\n                        </div>\r\n                        <v-text-field v-model=\"formTodo.total\" label=\"Total yang dibayar\" type=\"number\" required></v-text-field>\r\n                    </v-container>\r\n                </v-card-text>\r\n\r\n                <v-card-actions>\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn color=\"blue darken-1\" text @click=\"cancel\">Cancel</v-btn>\r\n                    <v-btn v-if=\"formTodo.id_update==0\" color=\"blue darken-1\" text @click=\"addorderfobs\">Sav2e</v-btn>\r\n                    <v-btn v-else color=\"blue darken-1\" text @click=\"updateBookings\">Save</v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n    </v-main>\r\n</template>\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: \"ListItem\",\r\n    data(){\r\n        return {\r\n            formTodo : {\r\n                id_booking: null,\r\n                id_menu : null,\r\n                status_pembayaran: null,\r\n                jumlah: 0,\r\n                total: 0,\r\n                id_update:0,\r\n            },\r\n            harga: null,\r\n            stat: null,\r\n            idMenu: null,\r\n            idBook: null,\r\n            totalinOut: null,\r\n            menus : [],\r\n            hargamenu: null,\r\n            bookings : [],\r\n            search: null,\r\n            dialog: false,\r\n            headers: [\r\n                {\r\n                    text: \"Nomor Booking\",\r\n                    align: \"start\",\r\n                    sortable: true,\r\n                    value: \"id_booking\",\r\n                },\r\n                { text: \"Nama Menu\", value: \"id_menu\" },\r\n                { text: \"Status Pembayaran\", value: \"status_pembayaran\" },\r\n                { text: \"Jumlah\", value: \"jumlah\" },\r\n                { text: \"Total\", value: \"total\"},\r\n                { text: \"Aksi\", value: \"action\"}\r\n            ],\r\n            todos:[],\r\n      \r\n            };\r\n        },\r\n        mounted(){\r\n            this.showOrdersFoods();\r\n            this.showBooking();\r\n            this.showMenus();\r\n        },\r\n        methods: {\r\n            save(){\r\n                this.todos.push(this.formTodo);\r\n                this.resetForm();\r\n                this.dialog = false;\r\n            },\r\n            cancel(){\r\n                this.resetForm();\r\n                this.dialog = false;\r\n            },\r\n            resetForm(){\r\n                this.formTodo = {\r\n                    id_booking: null,\r\n                    id_menu : null,\r\n                    status_pembayaran: null,\r\n                    jumlah: 0,\r\n                    total: 0,\r\n                };\r\n            },\r\n            tambah(){\r\n                this.dialog=true;\r\n            },\r\n            showBooking(){\r\n                axios.get('http://localhost:8000/api/bookings', {\r\n\r\n                })\r\n                    .then((response) => {\r\n                    this.bookings = response.data.data\r\n                    console.log(this.bookings)\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error)\r\n                    })\r\n             },\r\n             formatCurrency(value){\r\n                return value.toLocaleString('id-ID', {style: 'currency', currency: 'IDR'})\r\n             },\r\n             showOrdersFoods(){\r\n                axios.get('http://localhost:8000/api/orderfobs', {\r\n\r\n                })\r\n                    .then((response) => {\r\n                    this.todos = response.data.data\r\n                    \r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error)\r\n                    })\r\n             },\r\n             showMenus(){\r\n                axios.get('http://localhost:8000/api/fobs', {\r\n\r\n                })\r\n                    .then((response) => {\r\n                    this.menus = response.data.data\r\n                    console.log(this.menus)\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error)\r\n                    })\r\n             },\r\n             addorderfobs(){ \r\n\r\n                this.hargamenu = this.formTodo.id_menu.harga * this.formTodo.jumlah\r\n\r\n                \r\n                axios.post('http://localhost:8000/api/orderfobs', {\r\n                    id_booking: this.idBook, \r\n                    id_menu: this.idMenu,\r\n                    status_pembayaran: this.stat,\r\n                    jumlah: this.formTodo.jumlah,\r\n                    total: this.hargamenu,  \r\n                }, {\r\n                    //ini buayt askese token\r\n                    // headers: {\r\n                    // 'Authorization': `Bearer ${access_token}`\r\n                    // }\r\n\r\n                })\r\n                    .then((response) => {\r\n                    console.log(response)\r\n                    this.dialog = false\r\n                    this.resetForm();\r\n                    this.showOrdersFoods();\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error.response.data)\r\n                    })\r\n             },\r\n             editItem(item){\r\n                this.formTodo.id_update = item.id\r\n                this.formTodo.id_booking = item.id_booking\r\n                this.formTodo.status_pembayaran = item.status_pembayaran == 1 ? 'Lunas' : 'Belum Bayar'\r\n                this.formTodo.id_menu = item.id_menu\r\n                this.formTodo.jumlah = item.jumlah  \r\n                this.formTodo.total = item.total\r\n                this.dialog=true;\r\n             },\r\n            updateBookings(){\r\n                axios.put('http://localhost:8000/api/orderfobs/' + this.formTodo.id_update, {\r\n                    id_booking: this.formTodo.id_booking, \r\n                    id_menu: this.formTodo.id_menu.id,\r\n                    status_pembayaran: this.formTodo.status_pembayaran == \"Lunas\" ? 1 : 0,\r\n                    jumlah: this.formTodo.jumlah,\r\n                    total: this.formTodo.total,   \r\n                }, {\r\n                    //ini buayt askese token\r\n                    // headers: {\r\n                    // 'Authorization': `Bearer ${access_token}`\r\n                    // }\r\n\r\n                })\r\n                    .then((response) => {\r\n                        console.log(response)\r\n                        this.dialog = false\r\n                        this.resetForm()\r\n                        this.showOrdersFoods();\r\n                    })\r\n                    .catch((error) => {\r\n                        console.log(error.response.data)\r\n                    })\r\n            },\r\n            deleteItem(item){\r\n                axios.delete('http://localhost:8000/api/orderfobs/' + item.id, {\r\n                    //ini buayt askese token\r\n                    // headers: {\r\n                    // 'Authorization': `Bearer ${access_token}`\r\n                    // }\r\n\r\n                })\r\n                    .then((response) => {\r\n                    console.log(response)\r\n                    this.showOrdersFoods();\r\n                    })\r\n                    .catch((error) => {\r\n                    console.log(error.response.data)\r\n                    })\r\n            }\r\n        },\r\n    };\r\n</script>\r\n<style>\r\n    .text{\r\n        font-family: \"Franklin Gothic Medium\", \"Arial Narrow\", Arial, sans-serif;\r\n        font-size: 40px;\r\n        font-style: italic;\r\n    }\r\n</style>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}